// smn/user-ticket/backend/src/app.js
import express from"express";import cors from"cors";import dotenv from"dotenv";import connectDB from"../config/database.js";import ticketRoutes from"../routes/ticketRoute.js";dotenv.config();const app=express();app.use(cors()),app.use(express.json()),app.get("/test",(e,o)=>{o.json({message:"Server is working!"})}),connectDB(),app.use("/api/tickets",ticketRoutes),app.use((e,o,s,r)=>{console.error("Error:",e),s.status(500).json({success:!1,error:e.message||"Server Error"})});const PORT=process.env.PORT||5e3;app.listen(PORT,()=>{console.log(`======= For user-ticket Server is running on http://localhost:${PORT} =======`)}),process.on("unhandledRejection",e=>{console.log("UNHANDLED REJECTION! ðŸ’¥ Shutting down..."),console.log(e.name,e.message),process.exit(1)});